deepdive {
  
  global.connection: {
    host: "localhost"
    port: 5432
    db: "deepdive_titles"
    user: "dennybritz"
    password: ""
  }

  relations: {
    titles.schema: { id: Integer, title: Text, has_extractions: Boolean }
    words.schema: { id: Integer, title_id: Integer, word: String }
    words.fkeys: { title_id: "titles.id" }
    
    # All words are evidence
    words.evidence_field : "id"
    # Titles that have has_extractions not equal to NULL are evidence
    titles.evidence_field : "has_extractions"
  }

  # Ingesting from files not yet supported. We assume everything is in the RDBMS.
  ingest: { }

  extractions: {
    word_extractor.output_relation: "words"
    word_extractor.input: "SELECT * FROM titles"
    word_extractor.udf: "examples/titles/udf/word_extractor.py"
    word_extractor.factor.name: "Word"
    word_extractor.factor.function: "title_id = Imply(id)"
    word_extractor.factor.weight: "?(word)"
  }

}